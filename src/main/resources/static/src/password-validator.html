<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/iron-validator-behavior/iron-validator-behavior.html">

<dom-module id="password-validator">
  <script>
    class PasswordValidator extends Polymer.mixinBehaviors([Polymer.IronValidatorBehavior], Polymer.Element) {
      static get is() { return 'password-validator'; }
      static get properties(){
        return {
          actualPassword:{
            type:String,
            notify:false
          }
        }
      }

      ready() {
        super.ready();

        // console.log('init');
        // Workaround https://github.com/PolymerElements/iron-validator-behavior/issues/30#issuecomment-305643574
        new Polymer.IronMeta({type: 'validator', key: PasswordValidator.is, value: this});
      }

      validate(value) {
        // console.log("Actual: ", this.actualPassword);
        // console.log("Confirm: ", value);
        return (this.actualPassword == value);
      }
    }

    window.customElements.define(PasswordValidator.is, PasswordValidator);
  </script>
</dom-module>
